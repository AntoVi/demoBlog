 {% extends "base.html.twig" %}

 {% block title %}
     BlogSymfony | Détails de l'article
 {% endblock %}

 {% block body %}

 {# cet objet 'catalogues' ne sort pas de nul part, c'est ce que le controller 
        a transmit au template, c'est à dire les informations d'1 catalogue selectionné en BDD 
        en fonction de l'ID transmit dans l'URL #}
     
{# <h1 class= "text-center my-5"> Détails de la catégorie {{ catalogue.id }}</h1> #}

{# {{ dump(catalogue) }} #}

{# Affichage des messages utilisateurs stockés en session (addFlash dans le controller) #}
{# app: objet twig qui contient toutes les informations de la session en cours #}
{% for message in app.flashes('success') %}

    <div class="col-6 mx-auto text-center alert alert-success p-3 m-3 text-white">
        {{ message }}
    </div>
    
{% endfor %}


        {% if catalogue.photo != null %}
            {% set col = 8 %}    {# set permt de déclarer des variables en TWIG #}
        {% else %}
            {% set col = 12 %}
        {% endif %}

    <div class="col-md-12">
            <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm 
            position-relative">
                <div class="col p-4 d-flex flex-column position-static">
                <strong class="d-inline-block mb-2 text-success">Films</strong>
                <h3 class="mb-0">{{catalogue.titre}}</h3>
                <h4 class="mb-0">publié le {{catalogue.date|date('d/m/Y')}} à {{catalogue.date|date('H:i:s')}}</h4>
                <p class="mb-auto">{{catalogue.contenu|slice(0, 100)|striptags}}[..]</p>

               
                <p class= "mt-3">
                <a href="{{ path('blog_edit', {'id': catalogue.id}) }}" class="btn btn-success ">Modifier</a>
                <a href="#" class="btn btn-success ">Imprimer...</a>
                </p>
                </div>
                {% if catalogue.photo != null %}
                        
                    <div class="col-4 d-none d-lg-block">
                        <img src="{{ asset('uploads/photos/' ~ catalogue.photo) }}" alt="{{ catalogue.titre }}" class="col-12 img-responsive" >
                    </div>

                {% endif %}
            </div>
        </div>
 {% endblock %}